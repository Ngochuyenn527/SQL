CREATE DATABASE QLBanHang
GO
USE QLBanHang
CREATE TABLE HANGSX(
 MAHANGSX NCHAR(10) NOT NULL PRIMARY KEY,
 TENHANG NVARCHAR(20) NOT NULL,
 DIACHI NVARCHAR(30) NOT NULL,
 SODT NVARCHAR(20) NOT NULL,
 EMAIL NVARCHAR(30) NOT NULL
)

CREATE TABLE SANPHAM(
 MASP NCHAR(10) NOT NULL PRIMARY KEY,
 MAHANGSX NCHAR(10) NOT NULL FOREIGN KEY (MAHANGSX) REFERENCES HANGSX(MAHANGSX) ON UPDATE CASCADE ON DELETE CASCADE,
 TENSP NVARCHAR(20),
 SOLUONG INT,
 MAUSAC NVARCHAR(20),
 GIABAN MONEY,
 DONVITINH NCHAR(10),
 MOTA NVARCHAR(MAX)
)

CREATE TABLE NHANVIEN(
 MANV NCHAR(10) NOT NULL PRIMARY KEY,
 TENNV NVARCHAR(20),
 GIOITINH NCHAR(10),
 DIACHI NVARCHAR(30),
 SODT NVARCHAR(20),
 EMAIL NVARCHAR(30),
 TENPHONG NVARCHAR(30)
)

CREATE TABLE PNHAP(
 SOHDN NCHAR(10) PRIMARY KEY NOT NULL,
 NGAYNHAP DATE,
 MANV NCHAR(10) FOREIGN KEY(MANV) REFERENCES NHANVIEN(MANV)  ON UPDATE CASCADE ON DELETE CASCADE
)

CREATE TABLE NHAP(
 SOHDN NCHAR(10) NOT NULL PRIMARY KEY(SOHDN, MASP) FOREIGN KEY(SOHDN) REFERENCES PNHAP(SOHDN)  ON UPDATE CASCADE ON DELETE CASCADE,
 MASP NCHAR(10) NOT NULL FOREIGN KEY(MASP) REFERENCES SANPHAM(MASP)  ON UPDATE CASCADE ON DELETE CASCADE,
 SOLUONG INT,
 DONGIA MONEY
)

CREATE TABLE PXUAT(
 SOHDX NCHAR(10) PRIMARY KEY NOT NULL,
 NGAYXUAT DATE,
 MANV NCHAR(10) FOREIGN KEY(MANV) REFERENCES NHANVIEN(MANV)  ON UPDATE CASCADE ON DELETE CASCADE
)

CREATE TABLE XUAT(
 SOHDX NCHAR(10) NOT NULL PRIMARY KEY(SOHDX, MASP) FOREIGN KEY(SOHDX) REFERENCES PXUAT(SOHDX)  ON UPDATE CASCADE ON DELETE CASCADE,
 MASP NCHAR(10) NOT NULL FOREIGN KEY(MASP) REFERENCES SANPHAM(MASP)  ON UPDATE CASCADE ON DELETE CASCADE,
 SOLUONG INT
)

GO
INSERT INTO HANGSX VALUES
(N'H01', N'Samsung', N'Korea', N'011-08271717', N'ss@gmail.com.kr'),
(N'H02', N'OPPO', N'China', N'081-08626262', N'oppo@gmail.com.vn'),
(N'H03', N'Vinfone', N'Viet nam', N'084-098262626', N'vf@gmail.com.vn')
INSERT INTO NHANVIEN VALUES
 (N'NV01', N'Nguyen Thi Thu', N'Nu', N'Ha Noi', N'0982626521', N'thu@gmail.com', N'ke toan')
INSERT INTO SANPHAM VALUES
 (N'SP01', N'H02', N'F1 PLUS', N'100', N'Xam', N'7000000', N'Chiec', N'Hang can cao cap'),
 (N'SP02', N'H01', N'GALAXY NOTEL 1', N'50', N'Do', N'19000000', N'Chiec', N'Hang cao cap'),
 (N'SP03', N'H02', N'F3 LITE', N'200', N'Nau', N'3000000', N'Chiec', N'Hang pho thong')
INSERT INTO PNHAP VALUES
 (N'N01', N'02-05-2019', N'NV01'),
 (N'N02', N'04-07-2020', N'NV01')
INSERT INTO NHAP VALUES
(N'N01', N'SP02', N'10', N'17000000'),
(N'N02', N'SP01', N'30', N'6000000')
INSERT INTO PXUAT VALUES
 (N'X01', N'02-05-2019', N'NV01'),
 (N'X02', N'04-07-2020', N'NV01')
INSERT INTO XUAT VALUES
(N'X01', N'SP02', N'5'),
(N'X02', N'SP01', N'3')

SELECT * FROM HANGSX
SELECT * FROM NHANVIEN
SELECT * FROM SANPHAM
SELECT * FROM PNHAP
SELECT * FROM NHAP
SELECT * FROM PXUAT
SELECT * FROM XUAT





